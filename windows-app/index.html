<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tracker</title>
    <style>
        /* Basic styling for tabs */
        .tab {
          display: inline-block;
          padding: 10px;
          cursor: pointer;
          background-color: lightgray;
          margin-right: 5px;
        }
    
        .tab.active {
          background-color: gray;
          color: white;
        }
    
        .tab-content {
          display: none;
        }
    
        .tab-content.active {
          display: block;
        }
        
        canvas {
            max-width: 100%;
            height: auto;
            margin-bottom: 20px;
        }
      </style>
     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
</head>
<body>
    <h1>Game Tracker</h1>

    <div class="tabs">
        <button id="tracking-tab">Game Tracking</button>
        <button id="history-tab">Session History</button>
        <button id="stats-tab">Statistics</button>
    </div>

    <div id="tracking-content" class="tab-content active">
        <h2>Add New Game</h2>
        <input type="text" id="game-name" placeholder="Game Name">
        <input type="text" id="exe-path" placeholder="Executable Path" readonly>
        <button id="browse-btn">Browse</button>
        <button id="add-game-btn">Add Game</button>

        <h2>Tracked Games</h2>
        <ul id="games-list"></ul>

        <h2>Game Status</h2>
        <ul id="game-status-list"></ul>
    </div>

    <div id="history-content" class="tab-content">
        <h2>Session History</h2>
        <select id="filter-game-name">
            <option value="">All Games</option>
        </select>
        <input type="date" id="filter-start-date">
        <input type="date" id="filter-end-date">
        <button id="apply-filters-btn">Apply Filters</button>
        <button id="refresh-btn">Refresh</button>
        <table id="session-history" border="1">
            <tr>
                <th>Game Name</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Duration (minutes)</th>
            </tr>
        </table>
    </div>

    <div id="stats-content" class="tab-content">
        <h2>Statistics</h2>
        <div class="filters">
          <select id="stats-filter-game-name">
              <option value="">All Games</option>
          </select>
          <input type="date" id="stats-filter-start-date">
          <input type="date" id="stats-filter-end-date">
          <button id="stats-apply-filters-btn">Apply Filters</button>
        </div>
        <div>
            <h3>Total Playtime Per Game</h3>
            <canvas id="total-playtime-chart"></canvas>

            <h3>Average Session Duration Per Game</h3>
            <canvas id="avg-session-duration-chart"></canvas>
        
            <h3>Longest Play Session Per Game</h3>
            <canvas id="longest-session-chart"></canvas>
        
            <h3>Playtime Over Time (Daily)</h3>
            <canvas id="playtime-over-time-chart"></canvas>
        
            <h3>Number of Sessions Per Game</h3>
            <canvas id="session-count-chart"></canvas>
        
            <h3>Time Played Per Day</h3>
            <canvas id="time-played-per-day-chart"></canvas>
        
            <h3>Playtime Distribution By Time of Day</h3>
            <canvas id="playtime-by-time-of-day-chart"></canvas>
          </div>
        <table id="game-stats" border="1">
            <tr>
                <th>Game Name</th>
                <th>Total Time Played (minutes)</th>
            </tr>
        </table>
    </div>

    <script src="renderer.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
          const tabs = document.querySelectorAll('.tab');
          const tabContents = document.querySelectorAll('.tab-content');
    
          tabs.forEach(tab => {
            tab.addEventListener('click', () => {
              // Remove 'active' class from all tabs and tab contents
              tabs.forEach(t => t.classList.remove('active'));
              tabContents.forEach(tc => tc.classList.remove('active'));
    
              // Add 'active' class to the clicked tab and corresponding content
              tab.classList.add('active');
              const contentId = tab.id.replace('tab-', '') + '-content';
              document.getElementById(contentId).classList.add('active');
            });
          });
        });
      </script>

</body>
</html>